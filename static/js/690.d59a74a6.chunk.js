"use strict";(self.webpackChunkreact_way_of_samurai=self.webpackChunkreact_way_of_samurai||[]).push([[690],{5690:function(e,s,n){n.r(s),n.d(s,{default:function(){return N}});var a="Dialogs_dialogs__oe96H",i="Dialogs_dialogsItems__zeEWD",r="Dialogs_messages__Cg2l+",t="DialogItem_dialog__gU34-",d=n(1241),o=n(184),c=function(e){var s="/dialogs/".concat(e.id);return(0,o.jsx)("div",{className:t,children:(0,o.jsx)(d.Z,{to:s,children:e.name})})},u="Message_message__rjHQQ",l=function(e){return(0,o.jsx)("div",{className:u,children:e.message})},g=n(5705),m=n(132),_="NewMessage_fieldErrorText__1UEsX",h=m.Ry().shape({newMessageBody:m.Z_().min(5,"Too Short!").max(50,"Too Long!").required("Required")}),j=function(e){return(0,o.jsx)(g.J9,{initialValues:{newMessageBody:""},onSubmit:function(s,n){var a=n.setSubmitting,i=n.resetForm;e.sendMessage(s.newMessageBody),a(!1),i()},validationSchema:h,children:function(e){var s=e.errors,n=e.touched,a=s.newMessageBody&&n.newMessageBody;return(0,o.jsxs)(g.l0,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(g.gN,{name:"newMessageBody",component:"textarea",placeholder:"Enter your message"}),a&&(0,o.jsx)("div",{className:_,children:s.newMessageBody})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{type:"submit",children:"Send"})})]})}})},x=n(8687),f=n(1413),v=n(3019),M=function(e){return{me:e.auth.me}},w=function(e){return(0,x.$j)(M)((function(s){return s.me?(0,o.jsx)(e,(0,f.Z)({},s)):(0,o.jsx)(v.Z,{to:"/login"})}))},y=n(7781),p={sendMessage:n(2807).bG},N=(0,y.qC)(w,(0,x.$j)((function(e){return{state:e.messagesPage}}),p))((function(e){var s=e.state,n=e.sendMessage,t=s.dialogs.map((function(e){return(0,o.jsx)(c,{name:e.name,id:e.id},e.id)})),d=s.messages.map((function(e){return(0,o.jsx)(l,{message:e.message,id:e.id},e.id)}));return(0,o.jsxs)("div",{className:a,children:[(0,o.jsx)("div",{className:i,children:t}),(0,o.jsxs)("div",{className:r,children:[(0,o.jsx)("div",{children:d}),(0,o.jsx)(j,{sendMessage:n})]})]})}))}}]);
//# sourceMappingURL=690.d59a74a6.chunk.js.map